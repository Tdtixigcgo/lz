@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700;800&family=JetBrains+Mono:wght@400;600&display=swap');

:root {
  --bg-base:#07000a;--bg-card:rgba(255,255,255,0.025);--bg-hover:rgba(255,255,255,0.05);
  --border:rgba(255,255,255,0.07);--border-gold:rgba(212,160,23,0.28);--border-red:rgba(192,57,43,0.3);
  --red-600:#c0392b;--red-500:#e74c3c;
  --gold-500:#d4a017;--gold-400:#f1c40f;--gold-300:#ffd700;--gold-200:#ffe566;
  --green:#2ecc71;--blue:#3498db;--orange:#e67e22;--purple:#9b59b6;
  --text-primary:#f0f0f8;--text-secondary:#8888a0;--text-muted:#44445a;
  --radius-xl:20px;--radius-lg:14px;--radius-md:10px;
  --sidebar-w:268px;--header-h:62px;
}

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{font-size:15px}
body{font-family:'Be Vietnam Pro',sans-serif;background:var(--bg-base);color:var(--text-primary);min-height:100vh;overflow-x:hidden}

/* Background */
body::before{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;background:radial-gradient(ellipse 70% 50% at 10% 5%,rgba(120,0,0,.35) 0%,transparent 60%),radial-gradient(ellipse 50% 40% at 90% 90%,rgba(80,0,0,.28) 0%,transparent 60%),linear-gradient(150deg,#0a0002 0%,#140306 35%,#0a0002 70%,#100003 100%)}

/* ── LOGIN ── */
#login-screen{position:fixed;inset:0;background:transparent;display:flex;align-items:center;justify-content:center;z-index:9999;transition:opacity .5s,visibility .5s}
#login-screen.hidden{opacity:0;visibility:hidden;pointer-events:none}
.login-box{background:rgba(14,3,3,.97);border:1px solid rgba(212,160,23,.25);border-radius:28px;padding:52px 48px;width:min(420px,92vw);text-align:center;box-shadow:0 60px 120px rgba(0,0,0,.85),0 0 60px rgba(192,57,43,.08);animation:loginIn .6s cubic-bezier(.22,1,.36,1) both;position:relative;z-index:1}
@keyframes loginIn{from{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
.login-logo{font-size:3.5rem;margin-bottom:18px;display:block;animation:logopulse 2s ease-in-out infinite}
@keyframes logopulse{0%,100%{filter:drop-shadow(0 0 8px rgba(255,215,0,.4))}50%{filter:drop-shadow(0 0 24px rgba(255,215,0,.85))}}
.login-title{font-family:'Playfair Display',serif;font-size:1.7rem;background:linear-gradient(135deg,var(--gold-300),var(--gold-500));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:4px}
.login-subtitle{font-size:.72rem;color:var(--text-muted);letter-spacing:3px;text-transform:uppercase;margin-bottom:32px}
.login-field{margin-bottom:14px;text-align:left}
.login-field label{display:block;font-size:.7rem;color:var(--text-secondary);letter-spacing:2px;text-transform:uppercase;margin-bottom:6px}
.login-field input{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:10px;padding:12px 16px;color:var(--text-primary);font-family:'Be Vietnam Pro',sans-serif;font-size:.92rem;outline:none;transition:all .25s}
.login-field input:focus{border-color:var(--gold-500);box-shadow:0 0 0 3px rgba(212,160,23,.1)}
.login-field input::placeholder{color:var(--text-muted)}
.login-error{color:var(--red-500);font-size:.8rem;min-height:18px;margin-bottom:10px;animation:shake .3s ease}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.login-btn{width:100%;background:linear-gradient(135deg,var(--red-600),var(--red-500));color:#fff;border:none;padding:14px;border-radius:10px;font-size:.98rem;font-weight:700;cursor:pointer;font-family:'Be Vietnam Pro',sans-serif;letter-spacing:.5px;transition:all .25s;box-shadow:0 4px 20px rgba(192,57,43,.4);margin-top:4px}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(192,57,43,.5)}
.login-back{margin-top:20px;font-size:.78rem;color:var(--text-muted)}
.login-back a{color:var(--gold-500);text-decoration:none;transition:color .2s}
.login-back a:hover{color:var(--gold-300)}

/* ── LAYOUT ── */
#admin-app{display:none;min-height:100vh;position:relative;z-index:1}
#admin-app.visible{display:flex}
.sidebar{width:var(--sidebar-w);background:rgba(10,2,2,.95);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;overflow-y:auto;transition:transform .3s;backdrop-filter:blur(12px)}
.sidebar-logo{padding:24px 22px 18px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}
.logo-icon{font-size:1.7rem}
.logo-text{font-family:'Playfair Display',serif;font-size:1rem;background:linear-gradient(135deg,var(--gold-300),var(--gold-500));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}
.logo-sub{font-size:.62rem;color:var(--text-muted);letter-spacing:2px;text-transform:uppercase}
.room-id-badge{margin:12px 22px;background:rgba(212,160,23,.08);border:1px solid rgba(212,160,23,.18);border-radius:8px;padding:8px 12px;font-size:.72rem;color:rgba(255,215,0,.55);font-family:'JetBrains Mono',monospace;word-break:break-all}
.sidebar-nav{padding:14px 0;flex:1}
.nav-section{padding:0 10px;margin-bottom:6px}
.nav-section-label{font-size:.62rem;color:var(--text-muted);letter-spacing:3px;text-transform:uppercase;padding:8px 12px 5px}
.nav-link{display:flex;align-items:center;gap:11px;padding:10px 14px;border-radius:10px;text-decoration:none;color:var(--text-secondary);font-size:.87rem;transition:all .2s;cursor:pointer;border:none;background:none;width:100%;text-align:left}
.nav-link:hover{background:var(--bg-hover);color:var(--text-primary)}
.nav-link.active{background:rgba(192,57,43,.14);color:var(--gold-300);border-left:2px solid var(--gold-500)}
.nav-icon{font-size:1.05rem;width:20px;text-align:center}
.nav-badge{margin-left:auto;background:var(--red-600);color:#fff;font-size:.6rem;padding:2px 7px;border-radius:20px;font-weight:700}
.sidebar-footer{padding:14px 20px;border-top:1px solid var(--border)}
.sidebar-user{display:flex;align-items:center;gap:9px}
.user-avatar{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--red-600),var(--gold-500));display:flex;align-items:center;justify-content:center;font-size:.95rem;flex-shrink:0}
.user-name{font-size:.85rem;color:var(--text-primary);font-weight:600}
.user-role{font-size:.68rem;color:var(--text-secondary)}
.logout-btn{margin-left:auto;background:none;border:none;cursor:pointer;font-size:1.05rem;opacity:.45;transition:opacity .2s;padding:4px}
.logout-btn:hover{opacity:1}

/* ── MAIN ── */
.main-content{margin-left:var(--sidebar-w);flex:1;display:flex;flex-direction:column;min-height:100vh}
.top-bar{height:var(--header-h);background:rgba(10,2,2,.95);border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 28px;position:sticky;top:0;z-index:50;gap:18px;backdrop-filter:blur(12px)}
.top-bar-title{font-family:'Playfair Display',serif;font-size:1.1rem;color:var(--text-primary);flex:1}
.top-bar-actions{display:flex;gap:8px;align-items:center}
.live-badge{background:rgba(192,57,43,.14);border:1px solid rgba(192,57,43,.28);color:var(--red-500);padding:4px 13px;border-radius:20px;font-size:.72rem;font-weight:700;letter-spacing:1px;display:flex;align-items:center;gap:5px}
.live-dot{width:6px;height:6px;border-radius:50%;background:var(--red-500);animation:syncp 1.5s ease-in-out infinite}
@keyframes syncp{0%,100%{opacity:1}50%{opacity:.2}}
.icon-btn{background:rgba(255,255,255,.04);border:1px solid var(--border);color:var(--text-secondary);width:35px;height:35px;border-radius:9px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:.95rem;transition:all .2s;text-decoration:none;flex-shrink:0}
.icon-btn:hover{background:var(--bg-hover);color:var(--text-primary);border-color:rgba(255,255,255,.12)}
.content-area{padding:28px;flex:1}
.tab-section{display:none}.tab-section.active{display:block}

/* ── METRICS ── */
.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:16px;margin-bottom:24px}
.metric-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-xl);padding:20px 22px;position:relative;overflow:hidden;transition:all .25s}
.metric-card:hover{border-color:rgba(255,255,255,.12);transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,0,0,.4)}
.metric-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;border-radius:var(--radius-xl) var(--radius-xl) 0 0}
.metric-card.gold::before{background:linear-gradient(90deg,var(--gold-500),var(--gold-300))}
.metric-card.red::before{background:linear-gradient(90deg,var(--red-600),var(--red-500))}
.metric-card.green::before{background:linear-gradient(90deg,#27ae60,var(--green))}
.metric-card.blue::before{background:linear-gradient(90deg,#2980b9,var(--blue))}
.metric-card.purple::before{background:linear-gradient(90deg,#8e44ad,var(--purple))}
.metric-card.orange::before{background:linear-gradient(90deg,#d35400,var(--orange))}
.metric-icon{font-size:1.5rem;margin-bottom:10px;display:block}
.metric-value{font-family:'Playfair Display',serif;font-size:2rem;font-weight:700;color:var(--text-primary);line-height:1;margin-bottom:4px}
.metric-label{font-size:.72rem;color:var(--text-muted);letter-spacing:1.5px;text-transform:uppercase}

/* ── TABLE ── */
.table-section{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-xl);overflow:hidden;margin-bottom:22px}
.table-header{padding:18px 22px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:14px;flex-wrap:wrap}
.table-title{font-family:'Playfair Display',serif;font-size:.97rem;color:var(--text-primary);display:flex;align-items:center;gap:9px}
.table-controls{display:flex;gap:9px;align-items:center;flex-wrap:wrap}
.search-input{background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;padding:7px 13px;color:var(--text-primary);font-size:.8rem;outline:none;transition:border-color .2s;width:180px;font-family:'Be Vietnam Pro',sans-serif}
.search-input:focus{border-color:var(--gold-500)}
.search-input::placeholder{color:var(--text-muted)}
.filter-select{background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;padding:7px 30px 7px 12px;color:var(--text-primary);font-size:.8rem;outline:none;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='7' viewBox='0 0 12 7'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23888' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 9px center;font-family:'Be Vietnam Pro',sans-serif}
.filter-select option{background:var(--bg-card)}
.data-table{width:100%;border-collapse:collapse;font-size:.85rem}
.data-table th{padding:11px 18px;text-align:left;font-size:.68rem;color:var(--text-muted);letter-spacing:2px;text-transform:uppercase;border-bottom:1px solid var(--border);background:rgba(255,255,255,.012);font-weight:600}
.data-table td{padding:13px 18px;border-bottom:1px solid var(--border);color:var(--text-secondary);transition:background .15s}
.data-table tr:last-child td{border-bottom:none}
.data-table tbody tr:hover td{background:var(--bg-hover)}
.mono{font-family:'JetBrains Mono',monospace;color:var(--text-primary)}
.action-cell{display:flex;gap:6px}

/* ── BADGES ── */
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 11px;border-radius:20px;font-size:.7rem;font-weight:700;letter-spacing:.5px}
.badge-opened{background:rgba(46,204,113,.1);color:var(--green);border:1px solid rgba(46,204,113,.18)}
.badge-pending{background:rgba(212,160,23,.1);color:var(--gold-400);border:1px solid rgba(212,160,23,.18)}
.badge-special{background:rgba(192,57,43,.14);color:var(--red-500);border:1px solid rgba(192,57,43,.22)}
.badge-normal{background:rgba(136,136,160,.08);color:var(--text-secondary);border:1px solid var(--border)}
.badge-open{background:rgba(46,204,113,.1);color:var(--green);border:1px solid rgba(46,204,113,.18)}
.badge-closed{background:rgba(231,76,60,.1);color:var(--red-500);border:1px solid rgba(231,76,60,.18)}

/* ── CHARTS ── */
.chart-section{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px}
@media(max-width:900px){.chart-section{grid-template-columns:1fr}}
.chart-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-xl);padding:22px}
.chart-card-title{font-family:'Playfair Display',serif;font-size:.92rem;color:var(--text-primary);margin-bottom:18px;display:flex;align-items:center;gap:8px}
.bar-row{margin-bottom:13px}
.bar-label-row{display:flex;justify-content:space-between;margin-bottom:5px;font-size:.77rem}
.bar-label-text{color:var(--text-secondary)}
.bar-label-val{color:var(--text-primary);font-weight:700;font-family:'JetBrains Mono',monospace}
.bar-track{height:7px;background:rgba(255,255,255,.05);border-radius:4px;overflow:hidden}
.bar-fill{height:100%;border-radius:4px;transition:width 1.2s cubic-bezier(.22,1,.36,1);min-width:3px}

/* ── SPECIAL HIGHLIGHT ── */
.special-highlight{background:linear-gradient(135deg,rgba(192,57,43,.07),rgba(120,0,0,.04));border:1px solid var(--border-red);border-radius:var(--radius-xl);padding:22px;margin-bottom:20px}
.special-highlight-title{font-family:'Playfair Display',serif;font-size:.97rem;color:var(--red-500);margin-bottom:14px;display:flex;align-items:center;gap:9px}
.special-cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:12px}
.special-env-card{background:rgba(192,57,43,.09);border:1px solid rgba(192,57,43,.22);border-radius:12px;padding:15px 17px;transition:all .2s;cursor:pointer}
.special-env-card:hover{border-color:rgba(192,57,43,.45);transform:translateY(-2px)}
.senv-num{font-size:.68rem;color:var(--text-muted);margin-bottom:5px}
.senv-display{font-size:.82rem;color:var(--text-secondary);margin-bottom:3px}
.senv-real{font-family:'Playfair Display',serif;font-size:1.5rem;font-weight:700;color:var(--gold-300)}
.senv-by{font-size:.75rem;color:var(--text-secondary);margin-top:3px}
.senv-status{margin-top:7px}

/* ── SETTINGS ── */
.settings-tabs{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:22px;overflow-x:auto}
.stab{padding:10px 18px;border:none;background:none;color:var(--text-secondary);cursor:pointer;font-size:.84rem;font-family:'Be Vietnam Pro',sans-serif;border-bottom:2px solid transparent;transition:all .2s;margin-bottom:-1px;white-space:nowrap}
.stab.active{color:var(--gold-300);border-bottom-color:var(--gold-500)}
.stab-panel{display:none}.stab-panel.active{display:block}
.settings-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-xl);padding:22px;margin-bottom:16px}
.settings-card-title{font-family:'Playfair Display',serif;font-size:.95rem;color:var(--text-primary);margin-bottom:16px;display:flex;align-items:center;gap:8px}
.settings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.form-group{margin-bottom:14px}
.form-label{font-size:.7rem;color:var(--text-secondary);letter-spacing:2px;text-transform:uppercase;margin-bottom:6px;display:block}
.form-input{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:9px;padding:10px 14px;color:var(--text-primary);font-size:.88rem;font-family:'Be Vietnam Pro',sans-serif;outline:none;transition:all .25s}
.form-input:focus{border-color:var(--gold-500);box-shadow:0 0 0 3px rgba(212,160,23,.08)}
.form-input::placeholder{color:var(--text-muted)}
textarea.form-input{resize:vertical;min-height:80px;line-height:1.5}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:13px 0;border-bottom:1px solid var(--border)}
.toggle-row:last-child{border-bottom:none}
.toggle-label{font-size:.87rem;color:var(--text-secondary)}
.toggle-switch{position:relative;width:44px;height:23px}
.toggle-switch input{opacity:0;width:0;height:0}
.toggle-slider{position:absolute;inset:0;background:rgba(255,255,255,.07);border-radius:23px;cursor:pointer;transition:.3s;border:1px solid var(--border)}
.toggle-slider:before{content:'';position:absolute;height:15px;width:15px;left:3px;bottom:3px;background:var(--text-muted);border-radius:50%;transition:.3s}
input:checked+.toggle-slider{background:rgba(46,204,113,.18);border-color:var(--green)}
input:checked+.toggle-slider:before{transform:translateX(21px);background:var(--green)}
.dist-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:9px;margin-bottom:16px}
.dist-item{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:9px;padding:11px 8px;text-align:center}
.dist-item label{display:block;font-size:.68rem;color:rgba(255,215,0,.4);margin-bottom:5px}
.dist-item input{width:100%;background:transparent;border:none;border-bottom:1px solid rgba(212,160,23,.28);color:var(--gold-300);font-family:'JetBrains Mono',monospace;font-size:1.05rem;text-align:center;outline:none;padding:2px}
.action-btn{display:inline-flex;align-items:center;gap:7px;padding:10px 18px;border-radius:9px;border:none;cursor:pointer;font-family:'Be Vietnam Pro',sans-serif;font-size:.83rem;font-weight:700;transition:all .2s;width:100%;justify-content:center;margin-top:12px}
.action-btn-gold{background:rgba(212,160,23,.12);color:var(--gold-300);border:1px solid rgba(212,160,23,.24)}
.action-btn-gold:hover{background:rgba(212,160,23,.22)}
.action-btn-red{background:rgba(192,57,43,.14);color:var(--red-500);border:1px solid rgba(192,57,43,.28)}
.action-btn-red:hover{background:rgba(192,57,43,.26)}
.action-btn-blue{background:rgba(52,152,219,.12);color:var(--blue);border:1px solid rgba(52,152,219,.24)}
.action-btn-blue:hover{background:rgba(52,152,219,.22)}
.action-btn-green{background:rgba(46,204,113,.12);color:var(--green);border:1px solid rgba(46,204,113,.22)}
.action-btn-green:hover{background:rgba(46,204,113,.22)}
.special-val-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:10px;margin-bottom:16px}

/* ── TIMELINE ── */
.timeline-item{display:flex;gap:13px;padding:11px 0;border-bottom:1px solid var(--border)}
.timeline-item:last-child{border-bottom:none}
.timeline-item.tl-special{background:rgba(192,57,43,.05);border-radius:10px;padding:11px 13px;margin-bottom:4px;border:1px solid rgba(192,57,43,.14)}
.tl-dot{width:9px;height:9px;border-radius:50%;margin-top:5px;flex-shrink:0}
.tl-dot.normal{background:var(--blue)}
.tl-dot.special{background:var(--gold-300);box-shadow:0 0 8px rgba(255,215,0,.5)}
.tl-content{flex:1}
.tl-main{font-size:.85rem;color:var(--text-secondary);line-height:1.5}
.tl-main strong{color:var(--text-primary)}
.tl-val{color:var(--gold-300);font-family:'JetBrains Mono',monospace;font-weight:700}
.tl-time{font-size:.72rem;color:var(--text-muted);margin-top:2px}

/* ── NOTIFICATIONS ── */
.notif-item{display:flex;justify-content:space-between;align-items:flex-start;padding:12px 0;border-bottom:1px solid var(--border);gap:14px}
.notif-item:last-child{border-bottom:none}
.notif-time{font-size:.72rem;color:var(--text-muted);flex-shrink:0}
#notif-badge{position:absolute;top:-6px;right:-8px;background:var(--red-600);color:#fff;font-size:.6rem;font-weight:700;min-width:17px;height:17px;border-radius:9px;display:none;align-items:center;justify-content:center;padding:0 4px}

/* ── ENVELOPE EDIT ── */
.env-edit-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:12px}
.env-edit-card{background:rgba(255,255,255,.025);border:1px solid var(--border);border-radius:12px;padding:14px;transition:all .2s}
.env-edit-card:hover{border-color:rgba(212,160,23,.2)}
.env-edit-card.is-special{border-color:rgba(192,57,43,.3);background:rgba(192,57,43,.05)}
.eec-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.eec-num{font-family:'JetBrains Mono',monospace;font-size:.82rem;color:var(--text-muted)}
.eec-fields{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.eec-field label{font-size:.65rem;color:var(--text-muted);display:block;margin-bottom:3px}
.eec-field input,.eec-field select{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:7px;padding:7px 10px;color:var(--text-primary);font-size:.85rem;font-family:'Be Vietnam Pro',sans-serif;outline:none}
.eec-field input:focus,.eec-field select:focus{border-color:var(--gold-500)}
.eec-save{width:100%;margin-top:9px;background:rgba(212,160,23,.1);color:var(--gold-300);border:1px solid rgba(212,160,23,.2);border-radius:7px;padding:7px;font-size:.78rem;cursor:pointer;font-family:'Be Vietnam Pro',sans-serif;transition:all .2s}
.eec-save:hover{background:rgba(212,160,23,.2)}

/* ── MODAL ── */
.admin-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.82);z-index:9000;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px);animation:fadeIn .2s}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.admin-modal-card{background:rgba(14,3,3,.98);border:1px solid var(--border-gold);border-radius:22px;width:min(480px,94vw);overflow:hidden;box-shadow:0 40px 80px rgba(0,0,0,.8);animation:popIn .3s cubic-bezier(.22,1,.36,1) both}
@keyframes popIn{from{transform:scale(.82);opacity:0}to{transform:scale(1);opacity:1}}
.admin-modal-header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;border-bottom:1px solid var(--border)}
.admin-modal-title{font-family:'Playfair Display',serif;font-size:1rem;color:var(--text-primary)}
.admin-modal-close{background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:1.05rem;transition:color .2s;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:6px}
.admin-modal-close:hover{color:var(--text-primary);background:rgba(255,255,255,.05)}
.admin-modal-body{padding:22px;max-height:55vh;overflow-y:auto}
.admin-modal-footer{padding:14px 22px;border-top:1px solid var(--border);display:flex;gap:10px;justify-content:flex-end}
.modal-input{width:100%;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;padding:9px 13px;color:var(--text-primary);font-size:.88rem;font-family:'Be Vietnam Pro',sans-serif;outline:none;transition:border-color .2s}
.modal-input:focus{border-color:var(--gold-500)}
select.modal-input option{background:rgba(14,3,3,.99)}

/* ── TOAST ── */
.toast{position:fixed;bottom:22px;right:22px;background:rgba(14,3,3,.97);border:1px solid var(--border);border-radius:12px;padding:13px 18px;font-size:.85rem;color:var(--text-primary);box-shadow:0 8px 32px rgba(0,0,0,.6);z-index:9999;transform:translateX(120%);transition:transform .4s cubic-bezier(.22,1,.36,1);display:flex;align-items:center;gap:9px;min-width:220px;max-width:360px}
.toast.show{transform:translateX(0)}
.toast.success{border-left:3px solid var(--green)}
.toast.error{border-left:3px solid var(--red-500)}
.toast.info{border-left:3px solid var(--gold-500)}

/* ── PROGRESS RING ── */
.ring-wrap{position:relative;display:inline-flex;align-items:center;justify-content:center}
.ring-text{position:absolute;text-align:center}
.ring-pct{font-family:'Playfair Display',serif;font-size:1.6rem;font-weight:700;color:var(--gold-300);display:block}
.ring-lbl{font-size:.65rem;color:var(--text-muted);letter-spacing:2px}
.ring-bg{fill:none;stroke:rgba(255,255,255,.05);stroke-width:10}
.ring-fill{fill:none;stroke:url(#rg);stroke-width:10;stroke-linecap:round;stroke-dasharray:226;stroke-dashoffset:226;transition:stroke-dashoffset 1.5s cubic-bezier(.22,1,.36,1)}

/* ── ROOM PICKER (for master admin) ── */
.room-picker-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:16px}
.rp-card{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;cursor:pointer;transition:all .25s;text-decoration:none;color:inherit;display:block}
.rp-card:hover{background:var(--bg-hover);border-color:rgba(212,160,23,.2);transform:translateY(-3px)}
.rp-card.active-room{border-color:rgba(212,160,23,.4);background:rgba(212,160,23,.06)}

/* ── RESPONSIVE ── */
@media(max-width:768px){
  :root{--sidebar-w:0px}
  .sidebar{transform:translateX(-268px)}
  .sidebar.open{transform:translateX(0);width:268px;box-shadow:20px 0 60px rgba(0,0,0,.8)}
  .main-content{margin-left:0}
  .content-area{padding:18px 14px}
  .metrics-grid{grid-template-columns:1fr 1fr}
  .form-row{grid-template-columns:1fr}
}

::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:var(--bg-base)}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.07);border-radius:3px}
::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.14)}
