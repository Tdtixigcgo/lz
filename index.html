<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ğŸ§§ LÃ¬ XÃ¬ Online â€” Táº¡o link bá»‘c lÃ¬ xÃ¬ cá»§a riÃªng báº¡n</title>
  <meta name="description" content="Táº¡o link bá»‘c lÃ¬ xÃ¬ online ngay láº­p tá»©c, chia sáº» cho báº¡n bÃ¨ vÃ  quáº£n lÃ½ má»i thá»© tá»« admin dashboard."/>
  <link rel="stylesheet" href="style.css"/>
  <style>
    body{overflow-x:hidden}
    .home-page{position:relative;z-index:10}
    .lantern{position:fixed;z-index:1;pointer-events:none;font-size:2.5rem;opacity:.1;animation:floatL var(--d,15s) ease-in-out var(--dl,0s) infinite alternate}
    @keyframes floatL{0%{transform:translateY(0) rotate(-5deg)}50%{transform:translateY(-28px) rotate(5deg)}100%{transform:translateY(0) rotate(-5deg)}}
    .section-divider{width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(212,160,23,.2),transparent);margin:0 auto}
  </style>
</head>
<body>
<div class="bg-layer"></div>
<div class="bg-pattern"></div>
<div class="lantern" style="left:4%;top:12%;--d:18s;--dl:0s">ğŸ®</div>
<div class="lantern" style="right:6%;top:18%;--d:22s;--dl:3s">ğŸ®</div>
<div class="lantern" style="left:12%;bottom:22%;--d:16s;--dl:6s">ğŸ§§</div>
<div class="lantern" style="right:10%;bottom:16%;--d:20s;--dl:2s">ğŸ§§</div>

<!-- â•â• CREATE ROOM MODAL â•â• -->
<div id="create-modal">
  <div class="create-card">
    <div class="create-header">
      <span class="create-header-title">ğŸŠ Táº¡o PhÃ²ng LÃ¬ XÃ¬</span>
      <button class="create-close" id="close-create-btn">âœ•</button>
    </div>
    <div class="create-body" id="create-body">

      <div id="create-form-section">
        <div class="create-step">
          <div class="create-step-title">ThÃ´ng tin phÃ²ng</div>
          <div class="form-group">
            <label class="form-label">TÃªn sá»± kiá»‡n / phÃ²ng</label>
            <input class="form-input" id="cr-title" type="text" placeholder="LÃ¬ XÃ¬ Táº¿t Gia ÄÃ¬nh 2025" maxlength="60"/>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Chá»§ phÃ²ng (tÃªn báº¡n)</label>
              <input class="form-input" id="cr-host" type="text" placeholder="Anh Hai, CÃ´ Ba..." maxlength="40"/>
            </div>
            <div class="form-group">
              <label class="form-label">Máº­t kháº©u admin phÃ²ng</label>
              <input class="form-input" id="cr-pass" type="password" placeholder="Äáº·t máº­t kháº©u..."/>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Lá»i chÃ o má»«ng (hiá»ƒn thá»‹ dÆ°á»›i tÃªn)</label>
            <input class="form-input" id="cr-subtitle" type="text" placeholder="ChÃºc má»«ng nÄƒm má»›i Â· Váº¡n sá»± nhÆ° Ã½" maxlength="100"/>
          </div>
          <div class="form-group">
            <label class="form-label">Biá»ƒu tÆ°á»£ng phÃ²ng</label>
            <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:4px" id="emoji-picker">
              <span class="emoji-opt selected" data-emoji="ğŸ§§">ğŸ§§</span>
              <span class="emoji-opt" data-emoji="ğŸ®">ğŸ®</span>
              <span class="emoji-opt" data-emoji="ğŸŠ">ğŸŠ</span>
              <span class="emoji-opt" data-emoji="ğŸŒ¸">ğŸŒ¸</span>
              <span class="emoji-opt" data-emoji="â­">â­</span>
              <span class="emoji-opt" data-emoji="ğŸ">ğŸ</span>
              <span class="emoji-opt" data-emoji="ğŸ’°">ğŸ’°</span>
              <span class="emoji-opt" data-emoji="ğŸ†">ğŸ†</span>
            </div>
            <style>.emoji-opt{font-size:1.6rem;cursor:pointer;padding:6px;border-radius:8px;transition:all .2s;border:2px solid transparent}.emoji-opt:hover{background:rgba(255,255,255,.08)}.emoji-opt.selected{background:rgba(212,160,23,.12);border-color:rgba(212,160,23,.3)}</style>
          </div>
        </div>

        <div class="create-step">
          <div class="create-step-title">Cáº¥u hÃ¬nh phong bÃ¬</div>
          <div class="form-row-3">
            <div class="form-group">
              <label class="form-label">Tá»•ng sá»‘ Ã´</label>
              <input class="form-input" id="cr-total" type="number" value="20" min="4" max="100"/>
            </div>
            <div class="form-group">
              <label class="form-label">Sá»‘ Ã´ Ä‘áº·c biá»‡t</label>
              <input class="form-input" id="cr-specials" type="number" value="2" min="0" max="10"/>
            </div>
            <div class="form-group">
              <label class="form-label">Confetti khi má»Ÿ</label>
              <input class="form-input" id="cr-confetti" type="number" value="80" min="0" max="300"/>
            </div>
          </div>
          <div class="form-row" id="special-vals-row">
            <!-- Filled dynamically -->
          </div>
        </div>

        <div class="create-step">
          <div class="create-step-title">PhÃ¢n phá»‘i má»‡nh giÃ¡ hiá»ƒn thá»‹ (sá»‘ lÆ°á»£ng má»—i Ã´)</div>
          <div class="value-config-grid" id="dist-config"></div>
          <p id="dist-hint" style="font-size:.73rem;color:rgba(255,255,255,.3);margin-top:10px">
            CÃ²n láº¡i cáº§n phÃ¢n bá»•: <span id="dist-remaining" style="color:var(--gold-300);font-weight:700">18</span> Ã´
          </p>
        </div>

        <div class="create-step">
          <div class="create-step-title">Lá»i chÃºc tÃ¹y chá»‰nh</div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Lá»i chÃºc má»‡nh giÃ¡ tháº¥p (â‰¤5k)</label>
              <input class="form-input" id="cr-msg-low" type="text" placeholder="NÄƒm má»›i váº¡n sá»± nhÆ° Ã½ ğŸŒ¸"/>
            </div>
            <div class="form-group">
              <label class="form-label">Lá»i chÃºc má»‡nh giÃ¡ cao (â‰¥16k)</label>
              <input class="form-input" id="cr-msg-high" type="text" placeholder="Äáº¡i cÃ¡t Ä‘áº¡i lá»£i! ğŸ’°"/>
            </div>
          </div>
        </div>

        <button class="create-submit" id="create-submit-btn">ğŸŠ Táº¡o phÃ²ng lÃ¬ xÃ¬ ngay!</button>
        <p id="create-err" style="color:#ff6b6b;font-size:.82rem;margin-top:10px;text-align:center;display:none"></p>
      </div>

      <div id="create-success-section" style="display:none">
        <div style="text-align:center;margin-bottom:20px">
          <div style="font-size:3rem;margin-bottom:12px">ğŸ‰</div>
          <h3 style="font-family:'Playfair Display',serif;color:var(--gold-300);font-size:1.4rem;margin-bottom:6px">PhÃ²ng Ä‘Ã£ táº¡o thÃ nh cÃ´ng!</h3>
          <p style="font-size:.84rem;color:rgba(255,255,255,.4)">Chia sáº» link phÃ²ng cho má»i ngÆ°á»i Ä‘á»ƒ bá»‘c lÃ¬ xÃ¬</p>
        </div>
        <div class="success-box">
          <div class="link-row">
            <p class="link-label">ğŸ”— Link phÃ²ng (chia sáº» cho ngÆ°á»i chÆ¡i)</p>
            <div class="link-box"><span class="link-text" id="room-link-text"></span><button class="copy-btn" onclick="copyLink('room-link-text',this)">Copy</button></div>
          </div>
          <div class="link-row" style="margin-top:10px">
            <p class="link-label">ğŸ” Link admin (chá»‰ báº¡n giá»¯)</p>
            <div class="link-box"><span class="link-text" id="admin-link-text"></span><button class="copy-btn" onclick="copyLink('admin-link-text',this)">Copy</button></div>
          </div>
          <p class="hint-note">âš  LÆ°u láº¡i link admin! Máº¥t link nÃ y báº¡n sáº½ khÃ´ng vÃ o Ä‘Æ°á»£c trang quáº£n lÃ½ phÃ²ng.</p>
        </div>
        <div class="success-actions" style="margin-top:20px">
          <button class="btn-gold" onclick="goToNewRoom()">VÃ o phÃ²ng ngay â†’</button>
          <button class="btn-ghost" onclick="closeCreate()">ÄÃ³ng</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- â•â• MAIN PAGE â•â• -->
<div class="home-page">

  <!-- Hero -->
  <div class="home-hero">
    <span class="hero-badge">âœ¨ HoÃ n toÃ n miá»…n phÃ­ Â· Realtime Â· KhÃ´ng giá»›i háº¡n</span>
    <h1 class="hero-title">LÃ¬ XÃ¬ Online<br/>Táº¿t 2025</h1>
    <p class="hero-sub">Táº¡o phÃ²ng lÃ¬ xÃ¬ riÃªng trong 30 giÃ¢y. Chia sáº» link, quáº£n lÃ½ tá»« admin dashboard, theo dÃµi realtime.</p>
    <div class="hero-cta">
      <button class="btn-gold" onclick="openCreate()">ğŸŠ Táº¡o phÃ²ng lÃ¬ xÃ¬</button>
      <a href="/admin" class="btn-ghost">ğŸ” ÄÄƒng nháº­p Admin</a>
    </div>

    <div class="features-grid" style="margin-top:70px">
      <div class="feature-card">
        <span class="fc-icon">âš¡</span>
        <div class="fc-title">Táº¡o ngay trong 30 giÃ¢y</div>
        <div class="fc-desc">Äiá»n thÃ´ng tin, nháº¥n táº¡o, nháº­n link â€” Ä‘Æ¡n giáº£n váº­y thÃ´i. KhÃ´ng cáº§n tÃ i khoáº£n.</div>
      </div>
      <div class="feature-card">
        <span class="fc-icon">ğŸ›ï¸</span>
        <div class="fc-title">TÃ¹y chá»‰nh hoÃ n toÃ n</div>
        <div class="fc-desc">Äáº·t má»‡nh giÃ¡ tá»«ng Ã´, Ã´ Ä‘áº·c biá»‡t, lá»i chÃºc riÃªng, báº­t/táº¯t game báº¥t cá»© lÃºc nÃ o.</div>
      </div>
      <div class="feature-card">
        <span class="fc-icon">ğŸ”´</span>
        <div class="fc-title">Realtime má»i thiáº¿t bá»‹</div>
        <div class="fc-desc">Má»Ÿ Ã´ trÃªn Ä‘iá»‡n thoáº¡i â€” mÃ n hÃ¬nh chiáº¿u cáº­p nháº­t ngay láº­p tá»©c. KhÃ´ng cáº§n reload.</div>
      </div>
      <div class="feature-card">
        <span class="fc-icon">ğŸ‘¥</span>
        <div class="fc-title">Theo dÃµi ngÆ°á»i chÆ¡i</div>
        <div class="fc-desc">Xem ai bá»‘c Ã´ nÃ o, lÃºc máº¥y giá», má»‡nh giÃ¡ bao nhiÃªu â€” táº¥t cáº£ trong admin dashboard.</div>
      </div>
      <div class="feature-card">
        <span class="fc-icon">ğŸ†</span>
        <div class="fc-title">Ã” Ä‘áº·c biá»‡t bÃ­ máº­t</div>
        <div class="fc-desc">Ã” hiá»ƒn thá»‹ 20k nhÆ°ng thá»±c ra lÃ  500k â€” chá»‰ admin biáº¿t. Táº¡o báº¥t ngá» hoÃ n toÃ n.</div>
      </div>
      <div class="feature-card">
        <span class="fc-icon">ğŸ“Š</span>
        <div class="fc-title">Dashboard Pro</div>
        <div class="fc-desc">Biá»ƒu Ä‘á»“, timeline, danh sÃ¡ch ngÆ°á»i chÆ¡i, xuáº¥t CSV, chá»‰nh sá»­a tá»«ng Ã´ trá»±c tiáº¿p.</div>
      </div>
    </div>
  </div>

  <div class="section-divider"></div>

  <!-- Recent rooms -->
  <div class="rooms-section" style="padding:50px 20px 80px">
    <div style="display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:0;flex-wrap:wrap;gap:12px">
      <div>
        <h2 class="section-heading">PhÃ²ng Ä‘ang má»Ÿ</h2>
        <p class="section-desc">CÃ¡c phÃ²ng lÃ¬ xÃ¬ Ä‘ang hoáº¡t Ä‘á»™ng â€” báº¥m vÃ o Ä‘á»ƒ tham gia</p>
      </div>
      <button class="btn-red" onclick="openCreate()" style="padding:11px 24px;font-size:.88rem">+ Táº¡o phÃ²ng má»›i</button>
    </div>
    <div class="rooms-grid" id="rooms-grid">
      <div class="skeleton"></div>
      <div class="skeleton"></div>
      <div class="skeleton"></div>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<script src="config.js"></script>
<script>
'use strict';
let sb, newRoomId = '';

(async function init() {
  sb = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
  loadRooms();
  setupCreateForm();
})();

/* â”€â”€ Rooms â”€â”€ */
async function loadRooms() {
  const grid = document.getElementById('rooms-grid');
  try {
    const { data } = await sb.from('rooms')
      .select('id,title,host_name,emoji,is_open,created_at,envelope_count,opened_count')
      .order('created_at', { ascending: false })
      .limit(24);
    if (!data || data.length === 0) {
      grid.innerHTML = `<div class="empty-state" style="grid-column:1/-1"><div class="empty-state-icon">ğŸ§§</div><p>ChÆ°a cÃ³ phÃ²ng nÃ o â€” hÃ£y táº¡o phÃ²ng Ä‘áº§u tiÃªn!</p></div>`;
      return;
    }
    grid.innerHTML = data.map(r => `
      <a class="room-card" href="/room/${r.id}">
        <div class="rc-top">
          <span class="rc-emoji">${r.emoji||'ğŸ§§'}</span>
          <span class="rc-badge ${r.is_open?'open':'closed'}">${r.is_open?'ÄANG Má»':'ÄÃ“NG'}</span>
        </div>
        <div class="rc-title">${escHtml(r.title||'PhÃ²ng lÃ¬ xÃ¬')}</div>
        <div class="rc-host">ğŸ‘¤ ${escHtml(r.host_name||'áº¨n danh')}</div>
        <div class="rc-stats">
          <span class="rc-stat">ğŸ§§ ${r.envelope_count||20} Ã´</span>
          <span class="rc-stat">âœ… ${r.opened_count||0} Ä‘Ã£ má»Ÿ</span>
        </div>
      </a>
    `).join('');
  } catch(e) {
    grid.innerHTML = `<div class="empty-state" style="grid-column:1/-1"><div class="empty-state-icon">âš ï¸</div><p>Lá»—i táº£i danh sÃ¡ch phÃ²ng</p></div>`;
  }
}

function escHtml(s) { return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

/* â”€â”€ Create form â”€â”€ */
const DIST_DEFAULTS = { 1:2, 2:2, 3:2, 5:3, 10:4, 15:2, 20:5 };
let selectedEmoji = 'ğŸ§§';

function setupCreateForm() {
  buildDistGrid();
  buildSpecialVals();
  updateRemaining();

  document.getElementById('cr-total').addEventListener('input', () => { buildSpecialVals(); updateRemaining(); });
  document.getElementById('cr-specials').addEventListener('input', () => { buildSpecialVals(); updateRemaining(); });
  document.querySelectorAll('[data-emoji]').forEach(el => {
    el.addEventListener('click', () => {
      document.querySelectorAll('[data-emoji]').forEach(e => e.classList.remove('selected'));
      el.classList.add('selected');
      selectedEmoji = el.dataset.emoji;
    });
  });

  document.getElementById('create-submit-btn').addEventListener('click', submitCreate);
  document.getElementById('close-create-btn').addEventListener('click', closeCreate);
  document.getElementById('create-modal').addEventListener('click', e => { if(e.target === document.getElementById('create-modal')) closeCreate(); });
}

function buildDistGrid() {
  const g = document.getElementById('dist-config');
  g.innerHTML = Object.entries(DIST_DEFAULTS).map(([v,c]) => `
    <div class="value-item">
      <span class="value-item-label">${v}k</span>
      <input class="value-item-input" type="number" id="dist-${v}" value="${c}" min="0" max="50"
             oninput="updateRemaining()"/>
    </div>
  `).join('');
}

function buildSpecialVals() {
  const n = parseInt(document.getElementById('cr-specials').value) || 2;
  const row = document.getElementById('special-vals-row');
  let html = '';
  for(let i=1;i<=Math.min(n,5);i++) {
    const def = i===1?50:i===2?100:i*50;
    html += `<div class="form-group"><label class="form-label">Giáº£i Ä‘áº·c biá»‡t ${i} (nghÃ¬n Ä‘)</label><input class="form-input" id="cr-sv${i}" type="number" value="${def}" min="1"/></div>`;
  }
  row.innerHTML = html || '<p style="font-size:.8rem;color:rgba(255,255,255,.3);padding:4px">KhÃ´ng cÃ³ Ã´ Ä‘áº·c biá»‡t</p>';
}

function updateRemaining() {
  const total = parseInt(document.getElementById('cr-total').value) || 20;
  const specials = parseInt(document.getElementById('cr-specials').value) || 0;
  const normal = total - specials;
  const used = Object.keys(DIST_DEFAULTS).reduce((s,v) => s + (parseInt(document.getElementById('dist-'+v)?.value)||0), 0);
  const rem = normal - used;
  const el = document.getElementById('dist-remaining');
  if(el) { el.textContent = rem; el.style.color = rem === 0 ? 'var(--green)' : rem < 0 ? '#e74c3c' : 'var(--gold-300)'; }
}

async function submitCreate() {
  const title    = document.getElementById('cr-title').value.trim();
  const host     = document.getElementById('cr-host').value.trim();
  const pass     = document.getElementById('cr-pass').value;
  const subtitle = document.getElementById('cr-subtitle').value.trim();
  const total    = parseInt(document.getElementById('cr-total').value) || 20;
  const specials = parseInt(document.getElementById('cr-specials').value) || 0;
  const confetti = parseInt(document.getElementById('cr-confetti').value) || 80;
  const errEl    = document.getElementById('create-err');

  if (!title || !host || !pass) {
    errEl.textContent = 'âš  Vui lÃ²ng Ä‘iá»n tÃªn phÃ²ng, tÃªn chá»§ phÃ²ng vÃ  máº­t kháº©u!';
    errEl.style.display = 'block'; return;
  }
  errEl.style.display = 'none';

  // Build distribution
  const distribution = {};
  Object.keys(DIST_DEFAULTS).forEach(v => {
    const n = parseInt(document.getElementById('dist-'+v)?.value)||0;
    if(n > 0) distribution[v] = n;
  });

  // Collect special values
  const specialValues = [];
  for(let i=1;i<=specials;i++) {
    const v = parseInt(document.getElementById('cr-sv'+i)?.value);
    if(v > 0) specialValues.push(v);
  }

  const btn = document.getElementById('create-submit-btn');
  btn.disabled = true; btn.textContent = 'â³ Äang táº¡o phÃ²ng...';

  try {
    // Hash password (simple, khÃ´ng cáº§n bcrypt á»Ÿ FE)
    const passHash = btoa(unescape(encodeURIComponent(pass + ':lixi_salt_2025')));

    // Build envelopes
    const envelopes = buildEnvelopes(total, specials, specialValues, distribution);

    // Táº¡o room ID ngáº«u nhiÃªn
    const roomId = generateId();

    // Insert room
    const { error: roomErr } = await sb.from('rooms').insert({
      id:             roomId,
      title:          title,
      host_name:      host,
      subtitle:       subtitle || 'ChÃºc má»«ng nÄƒm má»›i Â· Váº¡n sá»± nhÆ° Ã½',
      emoji:          selectedEmoji,
      pass_hash:      passHash,
      is_open:        true,
      envelope_count: total,
      opened_count:   0,
      config: {
        confettiCount:  confetti,
        showPlayerCount: true,
        distribution,
        specialValues,
        messages: {
          low:  [document.getElementById('cr-msg-low').value || 'NÄƒm má»›i váº¡n sá»± nhÆ° Ã½! ğŸŒ¸'],
          mid:  ['PhÃº quÃ½ vinh hoa! ğŸ‹'],
          high: [document.getElementById('cr-msg-high').value || 'Äáº¡i cÃ¡t Ä‘áº¡i lá»£i! ğŸ’°'],
        }
      }
    });
    if (roomErr) throw new Error(roomErr.message);

    // Insert envelopes
    const rows = envelopes.map((e,i) => ({
      room_id:       roomId,
      position:      i,
      display_value: e.display,
      real_value:    e.real,
      is_special:    e.isSpecial,
      opened:        false,
      opened_at:     null,
      opened_by:     null,
    }));
    const { error: envErr } = await sb.from('envelopes').insert(rows);
    if(envErr) throw new Error(envErr.message);

    newRoomId = roomId;
    const base = window.location.origin;
    document.getElementById('room-link-text').textContent  = `${base}/room/${roomId}`;
    document.getElementById('admin-link-text').textContent = `${base}/admin/${roomId}`;

    document.getElementById('create-form-section').style.display = 'none';
    document.getElementById('create-success-section').style.display = 'block';
    loadRooms();

  } catch(e) {
    errEl.textContent = 'âŒ Lá»—i: ' + e.message;
    errEl.style.display = 'block';
  } finally {
    btn.disabled = false; btn.textContent = 'ğŸŠ Táº¡o phÃ²ng lÃ¬ xÃ¬ ngay!';
  }
}

function buildEnvelopes(total, specials, specialValues, distribution) {
  // Build display pool
  let pool = [];
  Object.entries(distribution).forEach(([v,c]) => { for(let i=0;i<c;i++) pool.push(parseInt(v)); });
  // Pad if needed
  while(pool.length < total - specials) pool.push(10);
  pool = pool.slice(0, total - specials);
  pool = shuffle(pool);

  // Build special pool
  const svShuffled = shuffle([...specialValues]);
  const allPos = shuffle(Array.from({length:total},(_,i)=>i));
  const specialPos = new Set(allPos.slice(0, specials));

  const envelopes = [];
  let normalIdx = 0, specialIdx = 0;
  for(let i=0;i<total;i++) {
    if(specialPos.has(i)) {
      const sv = svShuffled[specialIdx % svShuffled.length] || 50;
      // display = random from normal pool (camouflage), real = special
      const displayCandidates = Object.keys(distribution).map(Number).filter(v => v <= 20);
      const display = displayCandidates[Math.floor(Math.random() * displayCandidates.length)] || 10;
      envelopes.push({ display, real: sv, isSpecial: true });
      specialIdx++;
    } else {
      const d = pool[normalIdx % pool.length] || 10;
      envelopes.push({ display: d, real: d, isSpecial: false });
      normalIdx++;
    }
  }
  return shuffle(envelopes);
}

function shuffle(a) { const b=[...a]; for(let i=b.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]];} return b; }
function generateId() { return Date.now().toString(36) + Math.random().toString(36).slice(2,8); }

function copyLink(id, btn) {
  const text = document.getElementById(id)?.textContent;
  if(!text) return;
  navigator.clipboard.writeText(text).then(() => { btn.textContent = 'âœ“'; setTimeout(()=>btn.textContent='Copy',2000); });
}
function goToNewRoom() { if(newRoomId) window.location.href = '/room/' + newRoomId; }
function openCreate() { document.getElementById('create-modal').classList.add('show'); document.getElementById('create-form-section').style.display='block'; document.getElementById('create-success-section').style.display='none'; }
function closeCreate() { document.getElementById('create-modal').classList.remove('show'); }
</script>
</body>
</html>
